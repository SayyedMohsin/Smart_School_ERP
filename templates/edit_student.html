{% extends "layout.html" %}
{% block content %}

<div class="page-head">
    <h2>‚úèÔ∏è Edit Student Profile</h2>
    <a href="/student/{{ s.id }}" class="btn" style="background-color:#555; color:white;"><i class="fas fa-arrow-left"></i> Back</a>
</div>

<div class="form-box" style="max-width: 700px; margin: auto;">
    <form action="{{ url_for('edit_student', id=s.id) }}" method="POST" enctype="multipart/form-data">
        
        <div style="text-align:center; margin-bottom:20px;">
            <img src="/static/uploads/{{ s.photo }}" style="width:100px; height:100px; border-radius:50%; border:3px solid #eee;">
            <br><br>
            <label>Change Photo:</label>
            <input type="file" name="photo">
            <input type="hidden" name="curr_photo" value="{{ s.photo }}">
        </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
            <div><label>Name</label><input type="text" name="name" value="{{ s.name }}" required></div>
            <div><label>Class</label><input type="text" name="class" value="{{ s.class_name }}" required></div>
            <div><label>Mobile</label><input type="text" name="mobile" value="{{ s.mobile }}" required></div>
            <div><label>DOB</label><input type="date" name="dob" value="{{ s.dob }}"></div>
            <div style="grid-column: span 2;"><label>Address</label><input type="text" name="address" value="{{ s.address }}"></div>
        </div>

        <div style="background:#f9f9f9; padding:15px; margin-top:20px; border:1px dashed #ccc; border-radius:5px;">
            <label style="color:#c0392b;">üîí Financials (Locked)</label>
            <div style="display:flex; gap:20px; margin-top:10px;">
                <span>School Fee: <b>{{ s.school_fee }}</b></span>
                <span>Bus Fee: <b>{{ s.bus_fee }}</b></span>
                <span>Total Due: <b style="color:#c0392b;">{{ s.total_due }}</b></span>
            </div>
        </div>

        <button type="submit" class="btn" style="width:100%; margin-top:20px; padding:12px; background-color: #27ae60; color: white;">
            <i class="fas fa-save"></i> UPDATE PROFILE
        </button>
    </form>
</div>
{% endblock %}